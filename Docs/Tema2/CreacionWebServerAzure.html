<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.22">
<meta name="author" content="Cloud Computing - Máster en Ingeniería Informática">
<title>Creación de un servidor web en Azure</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>Creación de un servidor web en Azure</h1>
<div class="details">
<span id="author" class="author">Cloud Computing - Máster en Ingeniería Informática</span><br>
<span id="revdate">Manuel Torres &lt;mtorres@ual.es&gt;</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de contenidos</div>
<ul class="sectlevel1">
<li><a href="#_resumen">Resumen</a></li>
<li><a href="#_introducción">1. Introducción</a></li>
<li><a href="#_preparación_de_la_infraestructura_básica">2. Preparación de la infraestructura básica</a>
<ul class="sectlevel2">
<li><a href="#_creación_de_un_grupo_de_recursos">2.1. Creación de un grupo de recursos</a></li>
<li><a href="#_creación_de_una_red_virtual">2.2. Creación de una red virtual</a></li>
</ul>
</li>
<li><a href="#_creación_de_una_máquina_virtual">3. Creación de una máquina virtual</a>
<ul class="sectlevel2">
<li><a href="#_acceso_por_ssh_mdiante_una_terminal">3.1. Acceso por SSH mdiante una terminal</a></li>
<li><a href="#_acceso_por_ssh_mediante_azure_cloud_shell">3.2. Acceso por SSH mediante Azure Cloud Shell</a></li>
<li><a href="#_acceso_al_servidor_web">3.3. Acceso al servidor web</a></li>
</ul>
</li>
<li><a href="#_almacenamiento_básico_en_azure">4. Almacenamiento básico en Azure</a>
<ul class="sectlevel2">
<li><a href="#_creación_de_un_disco_adicional">4.1. Creación de un disco adicional</a></li>
<li><a href="#_conexión_de_un_disco_adicional_a_una_máquina_virtual">4.2. Conexión de un disco adicional a una máquina virtual</a></li>
</ul>
</li>
<li><a href="#_conclusiones">5. Conclusiones</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/di.png" alt="di">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumen">Resumen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En este tutorial se describe cómo crear un servidor web en Azure. Se partirá de cero y se creará la infraestructura necesaria para alojar una página web. Básicamente, se creará una red y una máquina virtual. La máquina virtual se configurará en el arranque con un script de inicio que instalará un servidor web Apache. Además, se abrirán los puertos necesarios en el cortafuegos de Azure para permitir el acceso a la máquina virtual por SSH y a la página web desde un navegador. También se presentará Azure Cloud Shell, un shell interactivo que se puede utilizar para administrar los recursos de Azure. Por último, se mostrará cómo crear un disco adicional y conectarlo a la máquina virtual.</p>
</div>
<div class="ulist">
<div class="title">Objetivos</div>
<ul>
<li>
<p>Crear una red virtual en Azure.</p>
</li>
<li>
<p>Crear una máquina virtual en Azure configurada con un script de inicio.</p>
</li>
<li>
<p>Añadir claves SSH a la máquina virtual.</p>
</li>
<li>
<p>Abrir los puertos necesarios en el cortafuegos de Azure.</p>
</li>
<li>
<p>Activar Azure Cloud Shell.</p>
</li>
<li>
<p>Crear un disco adicional y conectarlo a la máquina virtual.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introducción">1. Introducción</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En este tutorial se desribe cómo crear desde cero una máquina virtual en Azure de recursos reducidos para ilustrar cómo utilizar un cloud público como Azure para mostrar la potencia y las ventajas de la computación en la nube. Para ello, será necesario disponer de unos recursos previamente configurados, como son un <em>grupo de recursos</em> y una <em>red virtual</em>. La máquina virtual se configurará en el arranque con un script de inicio que instalará un servidor web Apache. Además, se abrirán los puertos necesarios en el cortafuegos de Azure para permitir el acceso a la máquina virtual por SSH y a la página web desde un navegador. También se presentará Azure Cloud Shell, un shell interactivo que se puede utilizar para administrar los recursos de Azure. Por último, se mostrará cómo crear un disco adicional y conectarlo a la máquina virtual.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preparación_de_la_infraestructura_básica">2. Preparación de la infraestructura básica</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para comenzar, es necesario disponer de una cuenta en Azure. Si no se dispone de una, se puede crear una cuenta gratuita en Azure como estudiante de la UAL en <a href="../Tema0/Azure/crear-suscripcion-AzureParaEstudiantes.html">este enlace</a>.</p>
</div>
<div class="paragraph">
<p>Una vez se dispone de una cuenta en Azure, se debe crear un <em>grupo de recursos</em> y una <em>red virtual</em>.</p>
</div>
<div class="sect2">
<h3 id="_creación_de_un_grupo_de_recursos">2.1. Creación de un grupo de recursos</h3>
<div class="paragraph">
<p>Un <em>grupo de recursos</em> es un contenedor lógico en el que se implementan y se administran los recursos de Azure (p.e. máquinas virtuales, bases de datos, aplicaciones web, etc.). Cuando se crea un recurso en Azure, se debe asignar a un grupo de recursos. Los recursos de Azure se pueden implementar en diferentes regiones de Azure. Un grupo de recursos puede contener recursos que se encuentran en diferentes regiones, pero todos los recursos de un grupo de recursos se encuentran en una única región.</p>
</div>
<div class="paragraph">
<p>Para crear un grupo de recursos, se debe seguir los siguientes pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Seleccionar la opción <em>Grupos de recursos</em> en el menú de la izquierda o buscar <em>Grupos de recursos</em> en la barra de búsqueda.</p>
</li>
<li>
<p>Hacer clic en el botón <code>+ Crear</code>.</p>
</li>
<li>
<p>En el formularion indicaremos:</p>
<div class="ulist">
<ul>
<li>
<p>Suscripción: Seleccionar la suscripción de Azure for Students.</p>
</li>
<li>
<p>Grupo de recursos: Introducir un nombre para el grupo de recursos (p.e. el nombre de usuario de la UAL <code>mtorres</code>).</p>
</li>
<li>
<p>Región: Seleccionar una región cercana a la ubicación del usuario (p.e. <code>(Europe) France Central</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Hacer clic en el botón <code>Revisar y crear</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/crear-grupo-recursos.png" alt="crear grupo recursos">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creación_de_una_red_virtual">2.2. Creación de una red virtual</h3>
<div class="paragraph">
<p>Una <em>red virtual</em> es una red que se ha creado en Azure y que se puede utilizar para alojar recursos de Azure. Una red virtual es similar a una red tradicional que se puede utilizar en un centro de datos físico, pero con las ventajas de la escalabilidad y la disponibilidad de Azure.</p>
</div>
<div class="paragraph">
<p>Para crear una red virtual, una vez que se ha creado un grupo de recursos, se deben seguir los siguientes pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Seleccionar la opción <em>Redes virtuales</em> en el menú de la izquierda (si no está disponble, seleccionar <code>Crear un recurso | Redes | Red virtual | Crear</code>) o buscar <em>Redes virtuales</em> en la barra de búsqueda.</p>
</li>
<li>
<p>Hacer clic en el botón <code>+ Crear red</code>.</p>
</li>
<li>
<p>En el formulario indicaremos lo siguiente en la pestaña de Datos básicos:</p>
<div class="ulist">
<ul>
<li>
<p>Suscripción: Seleccionar la suscripción de Azure for Students.</p>
</li>
<li>
<p>Grupo de recursos: Seleccionar el grupo de recursos creado anteriormente. Si no se ha creado un grupo de recursos, se puede crear uno en este paso sobre la marcha.</p>
</li>
<li>
<p>Nombre: Introducir un nombre para la red virtual (p.e. <code>mtorres-net</code>).</p>
</li>
<li>
<p>Región: Seleccionar la región del grupo de recursos (p.e. <code>(Europe) France Central</code>).</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/crear-red-virtual-datos-basicos.png" alt="crear red virtual datos basicos">
</div>
</div>
</li>
<li>
<p>En la pestaña de Direcciones IP, se puede dejar la configuración por defecto. En nuestro caso, configuraremos un espacio de direcciones más restringido con CIDR <code>10.0.0.0/24</code></p>
<div class="imageblock">
<div class="content">
<img src="images/crear-red-virtual-direcciones-ip.png" alt="crear red virtual direcciones ip">
</div>
</div>
</li>
<li>
<p>Crear la red virtual haciendo clic en el botón <code>Revisar y crear</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creación_de_una_máquina_virtual">3. Creación de una máquina virtual</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Una vez que se ha creado un grupo de recursos y una red virtual, se puede proceder a crear una máquina virtual. Para ello, se deben seguir los siguientes pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Seleccionar la opción <em>Máquinas virtuales</em> en el menú de la izquierda o buscar <em>Máquinas virtuales</em> en la barra de búsqueda.</p>
</li>
<li>
<p>Hacer clic en el botón <code>+ Crear</code> y seleccionar <code>Máquina virtual de Azure</code>.</p>
</li>
<li>
<p>En el formulario indicaremos lo siguiente en la pestaña de Datos básicos:</p>
<div class="ulist">
<ul>
<li>
<p>Suscripción: Seleccionar la suscripción de Azure for Students.</p>
</li>
<li>
<p>Grupo de recursos: Seleccionar el grupo de recursos creado anteriormente.</p>
</li>
<li>
<p>Nombre: Introducir un nombre para la máquina virtual (p.e. <code>web-server</code>).</p>
</li>
<li>
<p>Región: Seleccionar la región del grupo de recursos (p.e. <code>(Europe) France Central</code>).</p>
</li>
<li>
<p>Imagen: Seleccionar una imagen de máquina virtual. En nuestro caso, seleccionaremos una imagen de Ubuntu 24.04 LTS.</p>
</li>
<li>
<p>Arquitectura: Seleccionar una arquitectura de máquina virtual. En nuestro caso, mantendremos la x64.</p>
</li>
<li>
<p>Tamaño: Seleccionar un tamaño de máquina virtual. En nuestro caso, seleccionaremos un tamaño de máquina virtual muy reducido (p.e. <code>B1 s</code> con 1 vCPU y 1 GB de RAM).</p>
</li>
<li>
<p>Tipo de autenticación: Mantenemos <code>Clave pública SSH</code>.</p>
</li>
<li>
<p>Nombre de usuario: Nombre de usuario de acceso a la máquina virtual (p.e. <code>mtorres</code>).</p>
</li>
<li>
<p>Origen de clave pública SSH: Usaremos una clave pública existente (p.e. la que usemos para acceder a OpenStack). Si no se dispone de una clave pública, se puede crear una en este paso.</p>
</li>
<li>
<p>Clave pública SSH: Introducir la clave pública SSH.</p>
</li>
<li>
<p>Puertos de entrada p´blicos: Seleccionar <code>Permitir los puertos seleccionados</code> y añadir el puerto 80 (HTTP) y el puerto 22 (SSH).</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/crear-maquina-virtual-datos-basicos.png" alt="crear maquina virtual datos basicos">
</div>
</div>
</li>
<li>
<p>En la pestaña de Discos, se puede dejar la configuración por defecto con un tamaño de disco de 30 GB.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Al configurar el disco de la máquina virtual seleccionaremos la casilla <code>Eliminar disco al eliminar la máquina virtual</code> para que se elimine el disco de la máquina virtual cuando se elimine la máquina virtual y evitar cargos adicionales. En otras situaciones, se puede dejar el disco para poder reutilizarlo en otra máquina virtual.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>En la pestaña de Redes, se puede dejar la configuración por defecto. En nuestro caso, seleccionaremos la red virtual creada anteriormente. Aparecerá seleccionada la creación de una IP pública y aparecerán los puertos de entrada públicos que hemos configurado anteriormente.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Al configurar la red de la máquina virtual seleccionaremos la casilla <code>Eliminar IP pública y NIC cuando se elimine la VM</code> para que se elimine la IP pública y la interfaz de red de la máquina virtual cuando se elimine la máquina virtual y evitar cargos adicionales. En otras situaciones, se puede dejar la IP pública y la interfaz de red para poder reutilizarla en otra máquina virtual.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>En la pestaña <code>Opciones avanzadas</code> configuraremos el script de inicio de la máquina virtual para instalar Apache. Para ello, activamos la opción <code>Habilitar datos de usario</code> y añadiremos el siguiente script en el cuadro <code>Datos de usuario</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">#!/bin/bash

apt-get update
apt-get install -y apache2</code></pre>
</div>
</div>
</li>
<li>
<p>Crear la máquina virtual haciendo clic en el botón <code>Revisar y crear</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Es conveniente revisar las opciones ofrecidas en el resto de pestañas para conocer las opciones posibles de configuración de la máquina virtual y realizar los ajustes necesarios en función de las necesidades.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Tras unos instantes, la máquina virtual estará creada y Azure nos mostrará un resumen de la máquina virtual creada. La máquina virtual estará en estado <code>En ejecución</code> y se podrá acceder a ella a través de SSH en la dirección IP que se ha asignado a la máquina virtual. Además, se podrá acceder a la máquina virtual a través de un navegador web en la dirección IP pública de la máquina virtual. El acceso al servidor web se podrá realizar a través de un navegador web pero tardará unos minutos en estar disponible debido a que tiene actualizar la lista de paquetes e instalar Apache.</p>
</div>
<div class="sect2">
<h3 id="_acceso_por_ssh_mdiante_una_terminal">3.1. Acceso por SSH mdiante una terminal</h3>
<div class="paragraph">
<p>Para acceder por SSH a nuestra máquina virtual desde una terminal, deberemos contar con la clave privada que corresponde a la clave pública que hemos añadido a la máquina virtual. Desde una terminal, accederemos a la máquina virtual con el siguiente comando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">ssh [-i &lt;archivo-clave-privada&gt;] &lt;username&gt;@&lt;ip-maquina-virtual&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Donde <code>&lt;username&gt;</code> es el nombre de usuario que elegimos en la creación de la máquina virtual e <code>&lt;ip-maquina-virtual&gt;</code> es la dirección IP asignada a la máquina virtual. La opción <code>-i</code> se utiliza para indicar la clave privada que se utilizará para autenticarse en la máquina virtual. Si no se especifica, se utilizará la clave privada por defecto del usuario (normalmente <code>~/.ssh/id_rsa</code>).</p>
</div>
<div class="paragraph">
<p>La figura siguiente muestra la conexión por SSH a la máquina virtual en una terminal mostrando el disco de la máquina virtual de 30 GB seleccionado en la creación de la máquina virtual.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-ssh.png" alt="azure ssh">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>El disco de 4 GB que aparece en <code>sdb</code> es un disco temporal que se utiliza para almacenar datos temporales y que se elimina cuando se apaga la máquina virtual. No se debe utilizar para almacenar datos importantes.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_acceso_por_ssh_mediante_azure_cloud_shell">3.2. Acceso por SSH mediante Azure Cloud Shell</h3>
<div class="paragraph">
<p>Azure Cloud Shell es un shell interactivo que se puede utilizar para administrar los recursos de Azure. Esta funcionalidad es muy útil, ya que permite el acceso SSH a la máquina virtual sin necesidad de un terminal ni nuestra clave SSH en ocasiones en las que no las tengamos a mano. Se puede acceder a Azure Cloud Shell desde el portal de Azure en la esquina superior derecha. Se puede seleccionar el tipo de shell (Bash o PowerShell) y se puede elegir el tipo de almacenamiento (temporal o persistente). Una vez seleccionadas las opciones, se puede acceder a Azure Cloud Shell.</p>
</div>
<div class="paragraph">
<p>Para activar Azure Cloud Shell, seleccionaremos la máquina virtual en el portal Azure y se mostrarán una serie operaciones y opciones. Seleccionaremos la opción <code>Conectar</code> y el botón <code>Seleccionar</code> del cuadro <code>SSH mediante CLI de Azure</code>. A la derecha se abrirá un cuadro de opciones de configuración y la IP de la máquina virtual. Habrá que activar la casilla de verificación para aceptar que se permite el cambio de IP, ya que es efímera y puede cambiar. La figura siguiente ilustra todas las opciones que se han de seleccionar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-activate-ssh-cloud-shell.png" alt="azure activate ssh cloud shell">
</div>
</div>
<div class="paragraph">
<p>A continuación, nos dará la bienvenida y tendremos que seleccionar si preferimos Bash o PowerShell. Seleccionaremos Bash. La figura siguiente muestra el cuadro de bienvenida de Azure Cloud Shell.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-cloud-shell-welcome.png" alt="azure cloud shell welcome">
</div>
</div>
<div class="paragraph">
<p>También tendremos que seleccionar una suscripción por si queremos almacenar los datos entre sesiones. La figura siguiente muestra la selección de la suscripción.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-cloud-shell-subscription.png" alt="azure cloud shell subscription">
</div>
</div>
<div class="paragraph">
<p>Una vez hechas todas estas selecciones, se abrirá una terminal en la parte inferior. La figura siguiente muestra la shell mostrando de nuevo los discos de la máquina virtual de 30 GB y el disco temporal de 4 GB.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-cloud-shell.png" alt="azure cloud shell">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_acceso_al_servidor_web">3.3. Acceso al servidor web</h3>
<div class="paragraph">
<p>La máquina virtual fue configurada en el arranque con un script de inicio que instaló un servidor web Apache. El servidor web Apache estará accesible mediante un navegador web en la dirección IP pública de la máquina virtual. La figura siguiente muestra la página de bienvenida de Apache en un navegador web.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-apache-welcome.png" alt="azure apache welcome">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_almacenamiento_básico_en_azure">4. Almacenamiento básico en Azure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Azure ofrece diferentes tipos de almacenamiento para satisfacer las necesidades de almacenamiento de los recursos de Azure. Hasta ahora, en este tutorial se ha utilizado el almacenamiento por defecto de la máquina virtual, que es un disco de 30 GB. Este disco es un disco persistente que se mantiene incluso cuando se apaga la máquina virtual. Azure ofrece la creación de discos adicionales, almacenamiento en archivos, almacenamiento en blobs, almacenamiento en tablas y almacenamiento en colas. Veamos cómo crear un disco adicional para almacenamiento de bloques que conectaremos a la máquina virtual.</p>
</div>
<div class="sect2">
<h3 id="_creación_de_un_disco_adicional">4.1. Creación de un disco adicional</h3>
<div class="paragraph">
<p>Para crear un disco adicional, se deben seguir los siguientes pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Seleccionar la opción <em>Discos</em> en el menú de la izquierda o buscar <em>Discos</em> en la barra de búsqueda.</p>
</li>
<li>
<p>Hacer clic en el botón <code>+ Crear</code>.</p>
</li>
<li>
<p>En el formulario indicaremos lo siguiente en la pestaña de Datos básicos:</p>
<div class="ulist">
<ul>
<li>
<p>Suscripción: Seleccionar la suscripción de Azure for Students.</p>
</li>
<li>
<p>Grupo de recursos: Seleccionar el grupo de recursos creado anteriormente.</p>
</li>
<li>
<p>Nombre: Introducir un nombre para el disco (p.e. <code>mtorres-disk-32-gb</code>).</p>
</li>
<li>
<p>Región: Seleccionar la región del grupo de recursos (p.e. <code>(Europe) France Central</code>).</p>
</li>
<li>
<p>Tamaño (GiB): Seleccionar un tamaño de disco y un tipo de almacenamiento económico para esta prueba (p.e. <code>32 GiB HDD estándar</code>).</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>En función de la tecnología y el tamaño de disco seleccionado es posible que el disco pueda ser compartido entre varias máquinas virtuales.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La figura siguiente ilustra algunas de las opciones seleccionadas en la pestaña de opciones básicas de creación de discos</p>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-disks-basic-options.png" alt="azure disks basic options">
</div>
</div>
</li>
<li>
<p>Restringir el acceso público y privado desde redes al disco seleccionando la opción <code>Deshabilitar el acceso público y privado</code> en la pestaña de <code>Redes</code>.</p>
<div class="imageblock">
<div class="content">
<img src="images/azure-disks-network-options.png" alt="azure disks network options">
</div>
</div>
</li>
<li>
<p>Crear el disco haciendo clic en el botón <code>Revisar y crear</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Tras unos instantes, el disco estará creado y Azure nos mostrará un resumen del disco creado.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conexión_de_un_disco_adicional_a_una_máquina_virtual">4.2. Conexión de un disco adicional a una máquina virtual</h3>
<div class="paragraph">
<p>Una vez creado el disco, se puede conectar a una máquina virtual. Para ello, se debe seleccionar la máquina virtual en el portal de Azure y seleccionar la opción <code>Conectar</code> y el botón <code>Adjuntar discos existentes</code> en el cuadro de opciones de la máquina virtual. Seleccionar el disco creado anteriormente y hacer clic en el botón <code>Conectar</code>. La figura siguiente ilustra las opciones de conexión de un disco a una máquina virtual.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-attach-disk.png" alt="azure attach disk">
</div>
</div>
<div class="paragraph">
<p>Podemos comprobar que el disco se ha conectado a la máquina virtual accediendo a la máquina virtual por SSH y ejecutando el comando <code>lsblk</code> para listar los discos conectados a la máquina virtual. La figura siguiente muestra la conexión de un disco de 32 GB a la máquina virtual.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/azure-attach-disk-ssh.png" alt="azure attach disk ssh">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusiones">5. Conclusiones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En este tutorial se ha descrito cómo crear un servidor web en Azure. Se ha partido de cero y se ha creado la infraestructura necesaria para alojar una página web. Básicamente, se ha creado una red y una máquina virtual. La máquina virtual se ha configurado en el arranque con un script de inicio que ha instalado un servidor web Apache. Además, se han abierto los puertos necesarios en el cortafuegos de Azure para permitir el acceso a la máquina virtual por SSH y a la página web desde un navegador. Se ha mostrado cómo acceder a la máquina virtual por SSH desde una terminal y desde Azure Cloud Shell. Por último, se ha mostrado cómo crear un disco adicional y conectarlo a una máquina virtual.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-10 19:00:05 +0200
</div>
</div>
</body>
</html>